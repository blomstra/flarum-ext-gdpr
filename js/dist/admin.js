(()=>{var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e),t.d(e,{extend:()=>b});const r=flarum.core.compat["admin/app"];var o=t.n(r);const n=flarum.core.compat["common/extenders"];var a=t.n(n);const s=flarum.core.compat["common/models/User"];var i=t.n(s);function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l(t,e)}const c=flarum.core.compat["common/Model"];var d=t.n(c),p=function(t){function e(){return t.apply(this,arguments)||this}u(e,t);var r=e.prototype;return r.status=function(){return d().attribute("status").call(this)},r.reason=function(){return d().attribute("reason").call(this)},r.createdAt=function(){return d().attribute("createdAt",d().transformDate).call(this)},r.userConfirmedAt=function(){return d().attribute("userConfirmedAt",d().transformDate).call(this)},r.processedAt=function(){return d().attribute("processedAt",d().transformDate).call(this)},r.processorComment=function(){return d().attribute("processorComment").call(this)},r.processedMode=function(){return d().attribute("processedMode").call(this)},r.user=function(){return d().hasOne("user").call(this)},r.processedBy=function(){return d().hasOne("processedBy").call(this)},e}(d()),m=function(t){function e(){return t.apply(this,arguments)||this}u(e,t);var r=e.prototype;return r.file=function(){return d().attribute("file").call(this)},r.destroysAt=function(){return d().attribute("destroysAt",d().transformDate)},e}(d());const f=[(new(a().Store)).add("user-erasure-requests",p).add("exports",m),new(a().Model)(i()).hasOne("erasureRequest")],b=[].concat(f);o().initializers.add("blomstra-gdpr",(function(){o().extensionData.for("blomstra-gdpr").registerSetting({setting:"blomstra-gdpr.allow-anonymization",label:o().translator.trans("blomstra-gdpr.admin.settings.allow_anonymization"),type:"boolean"}).registerSetting({setting:"blomstra-gdpr.allow-deletion",label:o().translator.trans("blomstra-gdpr.admin.settings.allow_deletion"),type:"boolean"}).registerSetting({setting:"blomstra-gdpr.default-erasure",label:o().translator.trans("blomstra-gdpr.admin.settings.default_erasure"),type:"select",options:{anonymization:o().translator.trans("blomstra-gdpr.admin.settings.default_erasure_options.anonymization"),deletion:o().translator.trans("blomstra-gdpr.admin.settings.default_erasure_options.deletion")}}).registerPermission({icon:"fas fa-user-minus",label:o().translator.trans("blomstra-gdpr.admin.permissions.process_erasure"),permission:"processErasure"},"moderate")}))})(),module.exports=e})();
//# sourceMappingURL=admin.js.map